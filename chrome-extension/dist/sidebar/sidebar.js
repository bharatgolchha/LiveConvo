/*! For license information please see sidebar.js.LICENSE.txt */
(()=>{"use strict";var e,r={20:(e,r,t)=>{var a=t(540),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,r,t){var a,i={},d=null,c=null;for(a in void 0!==t&&(d=""+t),void 0!==r.key&&(d=""+r.key),void 0!==r.ref&&(c=r.ref),r)n.call(r,a)&&!o.hasOwnProperty(a)&&(i[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===i[a]&&(i[a]=r[a]);return{$$typeof:s,type:e,key:d,ref:c,props:i,_owner:l.current}}r.Fragment=i,r.jsx=d,r.jsxs=d},48:(e,r,t)=>{var a=t(848),s=t(540),i=t(338),n=t(815),l=t.n(n);function o(){const[e,r]=(0,s.useState)({isAuthenticated:!1,user:null,loading:!0,error:null});return(0,s.useEffect)((()=>{l().runtime.sendMessage({type:"GET_AUTH_STATE"}).then((e=>{e&&e.isAuthenticated?r({isAuthenticated:!0,user:e.user,loading:!1,error:e.error}):r({isAuthenticated:!1,user:null,loading:!1,error:e?.error||null})})).catch((e=>{console.warn("Could not get auth state from background:",e),r({isAuthenticated:!1,user:null,loading:!1,error:null})}));const e=e=>{if("AUTH_STATE_CHANGED"===e.type){const t=e.payload;t.isAuthenticated?r({isAuthenticated:!0,user:t.user,loading:!1,error:t.error}):r({isAuthenticated:!1,user:null,loading:!1,error:t.error})}};return l().runtime.onMessage.addListener(e),()=>{l().runtime.onMessage.removeListener(e)}}),[]),{...e,login:async(e,t)=>{r((e=>({...e,loading:!0,error:null})));try{const a=await l().runtime.sendMessage({type:"LOGIN",payload:{email:e,password:t}});return a&&a.success?r({isAuthenticated:!0,user:a.user,loading:!1,error:null}):r({isAuthenticated:!1,user:null,loading:!1,error:a?.error||"Login failed"}),a}catch(e){return console.error("Login error:",e),r({isAuthenticated:!1,user:null,loading:!1,error:"Connection error. Please try again."}),{success:!1,error:"Connection error"}}},logout:async()=>{await l().runtime.sendMessage({type:"LOGOUT"}),r({isAuthenticated:!1,user:null,loading:!1,error:null})}}}function d(...e){return e.filter(Boolean).join(" ")}function c({variant:e="primary",size:r="md",className:t,children:s,disabled:i,...n}){return(0,a.jsx)("button",{className:d("inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-primary-500 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500 dark:text-gray-300 dark:hover:bg-gray-800",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[r],t),disabled:i,...n,children:s})}function x({className:e,error:r,...t}){return(0,a.jsx)("input",{className:d("w-full px-3 py-2 text-sm border rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500","disabled:opacity-50 disabled:cursor-not-allowed",r?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-primary-500 dark:border-gray-600 dark:focus:border-primary-500","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder-gray-400 dark:placeholder-gray-500",e),...t})}var m=t(946),g=t(443);function u(){const{login:e,loading:r,error:t}=o(),[i,n]=(0,s.useState)(""),[d,u]=(0,s.useState)("");return(0,a.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),await e(i,d)},className:"space-y-4",children:[t&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400 rounded-md",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{children:t})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,a.jsx)(x,{id:"email",type:"email",value:i,onChange:e=>n(e.target.value),placeholder:"you@example.com",required:!0,autoFocus:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),(0,a.jsx)(x,{id:"password",type:"password",value:d,onChange:e=>u(e.target.value),placeholder:"••••••••",required:!0})]}),(0,a.jsx)(c,{type:"submit",className:"w-full",disabled:r,children:r?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Signing in..."]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),"Sign In"]})}),(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>l().tabs.create({url:"https://liveprompt.ai/auth/forgot-password"}),className:"text-sm text-primary-500 hover:text-primary-600",children:"Forgot password?"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",(0,a.jsx)("button",{type:"button",onClick:()=>{l().tabs.create({url:"https://liveprompt.ai/auth/signup"})},className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign up"})]})]})]})}var y=t(504),h=t(407);const p=(0,h.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f=(0,h.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function b({sessionId:e,onClose:r}){const[t,i]=(0,s.useState)([]),[n,l]=(0,s.useState)(""),[o,d]=(0,s.useState)(!1),x=(0,s.useRef)(null);(0,s.useEffect)((()=>{x.current?.scrollIntoView({behavior:"smooth"})}),[t]);const m=async()=>{if(!n.trim()||o)return;const r={id:Date.now().toString(),role:"user",content:n.trim(),timestamp:new Date};i((e=>[...e,r])),l(""),d(!0);try{const a=await fetch("https://liveprompt.ai/api/chat-guidance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e,message:r.content,history:t.map((e=>({role:e.role,content:e.content})))})});if(a.ok){const e=await a.json(),r={id:(Date.now()+1).toString(),role:"assistant",content:e.response,timestamp:new Date};i((e=>[...e,r]))}}catch(e){console.error("Failed to send message:",e)}finally{d(!1)}};return(0,a.jsxs)("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-5 w-5 text-primary-500"}),(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"AI Chat Assistant"})]}),(0,a.jsx)("button",{onClick:r,className:"p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,a.jsx)(p,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(y.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ask me anything about your conversation"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"I can help with strategies, questions, or insights"})]}):t.map((e=>(0,a.jsx)("div",{className:"flex "+("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[80%] p-3 rounded-lg "+("user"===e.role?"bg-primary-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100"),children:[(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),(0,a.jsx)("p",{className:"text-xs mt-1 "+("user"===e.role?"text-primary-100":"text-gray-500 dark:text-gray-500"),children:e.timestamp.toLocaleTimeString()})]})},e.id))),o&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"animate-pulse flex gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animation-delay-200"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animation-delay-400"})]})})})}),(0,a.jsx)("div",{ref:x})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"Ask a question...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500",disabled:o}),(0,a.jsx)(c,{onClick:m,size:"sm",disabled:!n.trim()||o,children:(0,a.jsx)(f,{className:"h-4 w-4"})})]})})]})}const j=(0,h.A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),v={sales:[{id:"1",label:"Ask about budget",action:"budget_inquiry"},{id:"2",label:"Handle objection",action:"objection_handling"},{id:"3",label:"Next steps",action:"next_steps"}],meeting:[{id:"1",label:"Summarize key points",action:"summarize"},{id:"2",label:"Action items",action:"action_items"},{id:"3",label:"Follow-up questions",action:"follow_up"}],support:[{id:"1",label:"Clarify issue",action:"clarify"},{id:"2",label:"Solution steps",action:"solution"},{id:"3",label:"Check satisfaction",action:"satisfaction"}],interview:[{id:"1",label:"Behavioral question",action:"behavioral"},{id:"2",label:"Technical assessment",action:"technical"},{id:"3",label:"Culture fit",action:"culture"}]};function k({sessionId:e,conversationType:r}){const[t,i]=(0,s.useState)([]),[n,l]=(0,s.useState)(null);return(0,s.useEffect)((()=>{i(v[r]||v.meeting)}),[r]),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(j,{className:"h-3 w-3 text-primary-500"}),(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Quick Actions"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map((t=>(0,a.jsx)("button",{onClick:()=>(async t=>{l(t.id);try{const a=await fetch("https://liveprompt.ai/api/guidance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e,action:t.action,conversationType:r})});if(a.ok){const e=await a.json();console.log("Guidance generated:",e)}}catch(e){console.error("Failed to generate guidance:",e)}finally{l(null)}})(t),disabled:n===t.id,className:"px-3 py-1.5 text-xs font-medium rounded-full transition-all "+(n===t.id?"bg-primary-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600"),children:n===t.id?(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"animate-spin rounded-full h-2 w-2 border-b-2 border-white"}),"Generating..."]}):t.label},t.id)))})]})}var N=t(759);function w({session:e}){const[r,t]=(0,s.useState)([]),[i,n]=(0,s.useState)(!1),[l,o]=(0,s.useState)(!1),[d,x]=(0,s.useState)(!0),[g,u]=(0,s.useState)(0),h=(0,s.useRef)(null);(0,s.useEffect)((()=>{if(!d)return;const r=setInterval((async()=>{const r=Date.now();if(r-g<1e4)return;u(r);const t=await p(e.id);t&&t.length>100&&f()}),1e4);return()=>clearInterval(r)}),[e,d,g]);const p=async e=>{try{const r=await fetch(`https://liveprompt.ai/api/sessions/${e}/transcript`);if(r.ok)return(await r.json()).transcript}catch(e){console.error("Failed to fetch transcript:",e)}return null},f=async()=>{n(!0);try{const r=await fetch("https://liveprompt.ai/api/guidance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e.id,conversationType:e.conversationType||"general",context:e.context})});if(r.ok){const e=await r.json();if(e.guidance){const r={id:Date.now().toString(),type:e.type||"suggestion",content:e.guidance,timestamp:new Date,isImportant:e.isImportant};t((e=>[...e,r])),setTimeout((()=>{h.current?.scrollTo({top:h.current.scrollHeight,behavior:"smooth"})}),100)}}}catch(e){console.error("Failed to generate guidance:",e)}finally{n(!1)}};return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j,{className:"h-4 w-4 text-primary-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"AI Guidance"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:d,onChange:e=>x(e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto-guidance"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c,{onClick:()=>{f()},size:"sm",variant:"outline",disabled:i,className:"flex-1",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary-500 mr-2"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.A,{className:"h-3 w-3 mr-2"}),"Get Guidance"]})}),(0,a.jsx)(c,{onClick:()=>o(!l),size:"sm",variant:l?"primary":"outline",children:(0,a.jsx)(y.A,{className:"h-3 w-3"})})]})]}),(0,a.jsx)("div",{ref:h,className:"flex-1 overflow-y-auto p-4 space-y-3",children:0===r.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(N.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"AI guidance will appear here as your conversation progresses"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:d?"Auto-guidance is enabled":'Click "Get Guidance" to start'})]}):r.map((e=>(0,a.jsx)("div",{className:"p-3 rounded-lg transition-all "+(e.isImportant?"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800":"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700"),children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[e.isImportant&&(0,a.jsx)(m.A,{className:"h-4 w-4 text-primary-500 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 dark:text-gray-100",children:e.content}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:e.timestamp.toLocaleTimeString()})]})]})},e.id)))}),(0,a.jsx)(k,{sessionId:e.id,conversationType:e.conversationType}),l&&(0,a.jsx)("div",{className:"absolute inset-0 bg-white dark:bg-gray-900 z-10",children:(0,a.jsx)(b,{sessionId:e.id,onClose:()=>o(!1)})})]})}const A=(0,h.A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),S=(0,h.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var C=t(827),I=t(235);function T({session:e}){const[r,t]=(0,s.useState)([]),[i,n]=(0,s.useState)(!0),l=(0,s.useRef)(null),[o,d]=(0,s.useState)(!0);(0,s.useEffect)((()=>{c();const e=setInterval(c,2e3);return()=>clearInterval(e)}),[e.id]),(0,s.useEffect)((()=>{o&&l.current?.scrollIntoView({behavior:"smooth"})}),[r,o]);const c=async()=>{try{const r=await fetch(`https://liveprompt.ai/api/sessions/${e.id}/transcript`);if(r.ok){const e=await r.json();e.entries&&t(e.entries)}}catch(e){console.error("Failed to load transcripts:",e)}finally{n(!1)}},x=e=>e.toLowerCase().includes("ai")||e.toLowerCase().includes("assistant")?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400";return i?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading transcript..."})]})}):(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Live Transcript"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:o,onChange:e=>d(e.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Auto-scroll"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===r.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(C.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transcript will appear here as the conversation progresses"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"Make sure recording is active"})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[r.map((e=>{return(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:`mt-0.5 ${x(e.speaker)}`,children:(r=e.speaker,r.toLowerCase().includes("ai")||r.toLowerCase().includes("assistant")?(0,a.jsx)(A,{className:"h-4 w-4"}):(0,a.jsx)(S,{className:"h-4 w-4"}))}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,a.jsx)("span",{className:`text-sm font-medium ${x(e.speaker)}`,children:e.speaker}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-500 flex items-center gap-1",children:[(0,a.jsx)(I.A,{className:"h-3 w-3"}),e.timestamp.toLocaleTimeString()]}),e.confidence&&e.confidence<.8&&(0,a.jsx)("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Low confidence"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-900 dark:text-gray-100",children:e.text})]})]})},e.id);var r})),(0,a.jsx)("div",{ref:l})]})}),(0,a.jsx)("div",{className:"px-4 py-2 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[(0,a.jsxs)("span",{children:[r.length," entries"]}),(0,a.jsxs)("span",{children:["Session: ",e.id.slice(0,8),"..."]})]})})]})}const _=(0,h.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),O=document.getElementById("root");O&&i.createRoot(O).render((0,a.jsx)(s.StrictMode,{children:(0,a.jsx)((function(){const{isAuthenticated:e,user:r,logout:t,loading:i}=o(),[n,d]=(0,s.useState)(null),[x,m]=(0,s.useState)("advisor");return(0,s.useEffect)((()=>{l().runtime.sendMessage({type:"GET_ACTIVE_SESSION"}).then((e=>{d(e)}));const e=e=>{"SESSION_UPDATED"===e.type&&d(e.session)};return l().runtime.onMessage.addListener(e),()=>{l().runtime.onMessage.removeListener(e)}}),[]),i?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):e?(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5 text-primary-500"}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"AI Advisor"})]}),(0,a.jsx)("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Sign out",children:(0,a.jsx)(_,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Signed in as ",r?.email]})})]}),n&&(0,a.jsxs)("div",{className:"flex border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{onClick:()=>m("advisor"),className:"flex-1 px-4 py-2 text-sm font-medium transition-colors "+("advisor"===x?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),"AI Advisor"]})}),(0,a.jsx)("button",{onClick:()=>m("transcript"),className:"flex-1 px-4 py-2 text-sm font-medium transition-colors "+("transcript"===x?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-4 w-4"}),"Transcript"]})})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:n?(0,a.jsxs)(a.Fragment,{children:["advisor"===x&&(0,a.jsx)(w,{session:n}),"transcript"===x&&(0,a.jsx)(T,{session:n})]}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"text-center max-w-sm",children:[(0,a.jsx)(N.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Active Session"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Start a recording from the extension popup to begin receiving AI guidance."}),(0,a.jsx)(c,{onClick:()=>{window.close()},variant:"outline",children:"Open Extension Popup"})]})})})]}):(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsxs)("div",{className:"p-6 flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)(N.A,{className:"h-12 w-12 text-primary-500"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"LivePrompt AI Advisor"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Sign in to access AI-powered conversation coaching"})]}),(0,a.jsx)(u,{})]})})}),{})}))},540:(e,r,t)=>{e.exports=t(287)},848:(e,r,t)=>{e.exports=t(20)}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={exports:{}};return r[e].call(i.exports,i,i.exports,a),i.exports}a.m=r,e=[],a.O=(r,t,s,i)=>{if(!t){var n=1/0;for(c=0;c<e.length;c++){for(var[t,s,i]=e[c],l=!0,o=0;o<t.length;o++)(!1&i||n>=i)&&Object.keys(a.O).every((e=>a.O[e](t[o])))?t.splice(o--,1):(l=!1,i<n&&(n=i));if(l){e.splice(c--,1);var d=s();void 0!==d&&(r=d)}}return r}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,s,i]},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={324:0,515:0};a.O.j=r=>0===e[r];var r=(r,t)=>{var s,i,[n,l,o]=t,d=0;if(n.some((r=>0!==e[r]))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(o)var c=o(a)}for(r&&r(t);d<n.length;d++)i=n[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},t=self.webpackChunkliveprompt_chrome_extension=self.webpackChunkliveprompt_chrome_extension||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var s=a.O(void 0,[815,920,515],(()=>a(48)));s=a.O(s)})();